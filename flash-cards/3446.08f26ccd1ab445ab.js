"use strict";(self.webpackChunkflash_cards=self.webpackChunkflash_cards||[]).push([[3446],{3446:(Z,P,h)=>{h.r(P),h.d(P,{startInputShims:()=>E});var A=h(9671),L=h(8416),v=h(5730);const w=new WeakMap,D=(e,n,t,s=0,o=!1)=>{w.has(e)!==t&&(t?N(e,n,s,o):O(e,n))},p=e=>e===e.getRootNode().activeElement,N=(e,n,t,s=!1)=>{const o=n.parentNode,r=n.cloneNode(!1);r.classList.add("cloned-input"),r.tabIndex=-1,s&&(r.disabled=!0),o.appendChild(r),w.set(e,r);const a="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",n.style.transform=`translate3d(${a}px,${t}px,0) scale(0)`},O=(e,n)=>{const t=w.get(e);t&&(w.delete(e),t.remove()),e.style.pointerEvents="",n.style.transform=""},I="input, textarea, [no-blur], [contenteditable]",H=function(){var e=(0,A.Z)(function*(n,t,s,o,r,c=!1){if(!s&&!o)return;const a=((e,n,t)=>{var s;return((e,n,t,s)=>{const o=e.top,r=e.bottom,c=n.top,d=c+15,_=.75*Math.min(n.bottom,s-t)-r,l=d-o,S=Math.round(_<0?-_:l>0?-l:0),m=Math.min(S,o-c),u=Math.abs(m)/.3;return{scrollAmount:m,scrollDuration:Math.min(400,Math.max(150,u)),scrollPadding:t,inputSafeY:4-(o-d)}})((null!==(s=e.closest("ion-item,[ion-item]"))&&void 0!==s?s:e).getBoundingClientRect(),n.getBoundingClientRect(),t,e.ownerDocument.defaultView.innerHeight)})(n,s||o,r);if(s&&Math.abs(a.scrollAmount)<4)t.focus();else if(D(n,t,!0,a.inputSafeY,c),t.focus(),(0,v.r)(()=>n.click()),typeof window<"u"){let d;const f=function(){var l=(0,A.Z)(function*(){void 0!==d&&clearTimeout(d),window.removeEventListener("ionKeyboardDidShow",_),window.removeEventListener("ionKeyboardDidShow",f),s&&(yield(0,L.c)(s,0,a.scrollAmount,a.scrollDuration)),D(n,t,!1,a.inputSafeY),t.focus()});return function(){return l.apply(this,arguments)}}(),_=()=>{window.removeEventListener("ionKeyboardDidShow",_),window.addEventListener("ionKeyboardDidShow",f)};if(s){const l=yield(0,L.g)(s);if(a.scrollAmount>l.scrollHeight-l.clientHeight-l.scrollTop)return"password"===t.type?(a.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",_)):window.addEventListener("ionKeyboardDidShow",f),void(d=setTimeout(f,1e3))}f()}});return function(t,s,o,r,c){return e.apply(this,arguments)}}(),B="$ionPaddingTimer",C=(e,n)=>{var t,s;if("INPUT"!==e.tagName||e.parentElement&&"ION-INPUT"===e.parentElement.tagName||"ION-SEARCHBAR"===(null===(s=null===(t=e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===s?void 0:s.tagName))return;const o=(0,L.f)(e);if(null===o)return;const r=o[B];r&&clearTimeout(r),n>0?o.style.setProperty("--keyboard-offset",`${n}px`):o[B]=setTimeout(()=>{o.style.setProperty("--keyboard-offset","0px")},120)},E=(e,n)=>{const t=document,s="ios"===n,o="android"===n,r=e.getNumber("keyboardHeight",290),c=e.getBoolean("scrollAssist",!0),a=e.getBoolean("hideCaretOnScroll",s),d=e.getBoolean("inputBlurring",s),f=e.getBoolean("scrollPadding",!0),_=Array.from(t.querySelectorAll("ion-input, ion-textarea")),l=new WeakMap,S=new WeakMap,m=function(){var u=(0,A.Z)(function*(i){yield new Promise(y=>(0,v.c)(i,y));const T=i.shadowRoot||i,b=T.querySelector("input")||T.querySelector("textarea"),g=(0,L.f)(i),x=g?null:i.closest("ion-footer");if(b){if(g&&a&&!l.has(i)){const y=((e,n,t)=>{if(!t||!n)return()=>{};const s=a=>{p(n)&&D(e,n,a)},o=()=>D(e,n,!1),r=()=>s(!0),c=()=>s(!1);return(0,v.a)(t,"ionScrollStart",r),(0,v.a)(t,"ionScrollEnd",c),n.addEventListener("blur",o),()=>{(0,v.b)(t,"ionScrollStart",r),(0,v.b)(t,"ionScrollEnd",c),n.addEventListener("ionBlur",o)}})(i,b,g);l.set(i,y)}if("date"!==b.type&&"datetime-local"!==b.type&&(g||x)&&c&&!S.has(i)){const y=((e,n,t,s,o,r=!1)=>{let c;const a=f=>{c=(0,v.p)(f)},d=f=>{if(!c)return;const _=(0,v.p)(f);!((e,n,t)=>{if(n&&t){const s=n.x-t.x,o=n.y-t.y;return s*s+o*o>e*e}return!1})(6,c,_)&&!p(n)&&H(e,n,t,s,o,r)};return e.addEventListener("touchstart",a,{capture:!0,passive:!0}),e.addEventListener("touchend",d,!0),()=>{e.removeEventListener("touchstart",a,!0),e.removeEventListener("touchend",d,!0)}})(i,b,g,x,r,o);S.set(i,y)}}});return function(T){return u.apply(this,arguments)}}();d&&(()=>{let e=!0,n=!1;const t=document;(0,v.a)(t,"ionScrollStart",()=>{n=!0}),t.addEventListener("focusin",()=>{e=!0},!0),t.addEventListener("touchend",c=>{if(n)return void(n=!1);const a=t.activeElement;if(!a||a.matches(I))return;const d=c.target;d!==a&&(d.matches(I)||d.closest(I)||(e=!1,setTimeout(()=>{e||a.blur()},50)))},!1)})(),f&&(e=>{const n=document;n.addEventListener("focusin",o=>{C(o.target,e)}),n.addEventListener("focusout",o=>{C(o.target,0)})})(r);for(const u of _)m(u);t.addEventListener("ionInputDidLoad",u=>{m(u.detail)}),t.addEventListener("ionInputDidUnload",u=>{(u=>{if(a){const i=l.get(u);i&&i(),l.delete(u)}if(c){const i=S.get(u);i&&i(),S.delete(u)}})(u.detail)})}}}]);