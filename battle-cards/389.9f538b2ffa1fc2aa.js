"use strict";(self.webpackChunkbattle_cards=self.webpackChunkbattle_cards||[]).push([[389],{389:(x,f,l)=>{l.r(f),l.d(f,{MainMenuComponent:()=>g});var p=l(9671),c=l(6895),m=l(1545),d=l(4083),_=l(1210),h=l(3573),i=l(9725),C=l(4004),n=l(4650);class u{constructor(t,e){this.translationsService=t,this.actionSheetCtrl=e,this.flags=this.translationsService.languages,this.selectedFlag$=this.translationsService.selectedLanguage$.pipe((0,C.U)(o=>this.flags[o].flag))}selectLanguage(){var t=this;return(0,p.Z)(function*(){(yield t.actionSheetCtrl.create({header:"Sprache w\xe4hlen",buttons:Object.keys(t.flags).map(o=>({text:t.flags[o].flag+" "+t.flags[o].name,handler:()=>{t.translationsService.setLanguage(o)}}))})).present()})()}exportTranslations(){this.translationsService.export()}importTranslations(t){var e=this;return(0,p.Z)(function*(){const o=t.target,a=o.files;if(!o||!a)return;const r=a[0];r&&e.translationsService.import(r)})()}}u.\u0275fac=function(t){return new(t||u)(n.Y36(h.fA),n.Y36(i.BX))},u.\u0275cmp=n.Xpm({type:u,selectors:[["bst-translation-settings"]],standalone:!0,features:[n.jDz],decls:27,vars:6,consts:[[3,"click"],["name","save-outline"],["name","folder-open-outline"],["type","file","accept","application/json",1,"ion-hide",3,"change"],["i",""],[3,"checked","ionChange"],["tt",""]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"ion-footer")(1,"ion-toolbar")(2,"ion-title"),n._uU(3,"\xdcbersetzen"),n.qZA()(),n.TgZ(4,"ion-toolbar")(5,"ion-buttons")(6,"ion-button",0),n.NdJ("click",function(){return e.selectLanguage()}),n._uU(7),n.ALo(8,"async"),n.qZA(),n.TgZ(9,"span")(10,"ion-button",0),n.NdJ("click",function(){return e.exportTranslations()}),n._UZ(11,"ion-icon",1),n.qZA(),n.TgZ(12,"ion-label"),n._uU(13,"Export"),n.qZA()(),n.TgZ(14,"span")(15,"ion-button",0),n.NdJ("click",function(){n.CHM(o);const r=n.MAs(20);return n.KtG(r.click())}),n._UZ(16,"ion-icon",2),n.qZA(),n.TgZ(17,"ion-label"),n._uU(18,"Import"),n.qZA(),n.TgZ(19,"input",3,4),n.NdJ("change",function(r){return e.importTranslations(r)}),n.qZA()(),n.TgZ(21,"span")(22,"ion-toggle",5,6),n.NdJ("ionChange",function(){n.CHM(o);const r=n.MAs(23);return n.KtG(e.translationsService.setTranslationsEditMode(r.checked))}),n.ALo(24,"async"),n.qZA(),n.TgZ(25,"ion-label"),n._uU(26,"Bearbeiten"),n.qZA()()()()()}2&t&&(n.xp6(7),n.hij(" ",n.lcZ(8,2,e.selectedFlag$)," "),n.xp6(15),n.Q6J("checked",n.lcZ(24,4,e.translationsService.translationsEditMode$)))},dependencies:[c.ez,c.Ov,i.Pc,i.YG,i.Sm,i.fr,i.gu,i.Q$,i.wd,i.ho,i.sr,i.w],styles:["ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]:last-of-type{padding-bottom:50px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:flex-start}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}"]});const Z=["modal"],T=function(s){return["roster",s]};function M(s,t){if(1&s){const e=n.EpF();n.TgZ(0,"ion-item")(1,"ion-label",6),n._UZ(2,"ion-icon",0),n._uU(3),n.qZA(),n.TgZ(4,"ion-button",7),n.NdJ("click",function(){const r=n.CHM(e).index,A=n.oxw();return n.KtG(A.deleteRoster(r))}),n._UZ(5,"ion-icon",8),n.qZA()()}if(2&s){const e=t.$implicit,o=t.index;n.xp6(1),n.Q6J("routerLink",n.VKq(2,T,o)),n.xp6(2),n.hij(" ",e," ")}}function v(s,t){if(1&s&&(n.TgZ(0,"div",10),n._UZ(1,"ion-icon",11),n.TgZ(2,"ion-badge",12),n._uU(3),n.qZA()()),2&s){const e=t.$implicit,o=t.index,a=n.oxw().$implicit;n.xp6(1),n.Q6J("name",0===e?"file-tray-outline":"file-tray-full-outline"),n.xp6(1),n.Q6J("color",a.boxContent.length-1===o?"success":"medium"),n.xp6(1),n.Oqu(e)}}const b=function(s){return["flash-card-lesson",s]};function y(s,t){if(1&s&&(n.TgZ(0,"ion-item",6),n._uU(1),n.YNc(2,v,4,3,"div",9),n.qZA()),2&s){const e=t.$implicit;n.Q6J("routerLink",n.VKq(3,b,t.index)),n.xp6(1),n.hij(" ",e.name," "),n.xp6(1),n.Q6J("ngForOf",e.boxContent)}}class g{constructor(t,e){this.rostersService=t,this.learningService=e,this.rosterTitles$=this.rostersService.list$,this.lessons$=this.learningService.lessons$}saveFile(t){var e=this;return(0,p.Z)(function*(){const o=t.target,a=o.files;if(!o||!a)return;const r=a[0];r&&(yield e.rostersService.addRoster(r))})()}deleteRoster(t){this.rostersService.deleteRoster(t)}}g.\u0275fac=function(t){return new(t||g)(n.Y36(_.s),n.Y36(d.H))},g.\u0275cmp=n.Xpm({type:g,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&n.Gf(Z,5),2&t){let o;n.iGM(o=n.CRH())&&(e.modal=o.first)}},standalone:!0,features:[n.jDz],decls:22,vars:6,consts:[["color","primary","slot","start","name","document-outline"],["fill","outline",3,"click"],["type","file",1,"ion-hide",3,"change"],["f",""],[4,"ngFor","ngForOf"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],["slot","end","fill","clear",3,"click"],["color","primary","name","trash"],["slot","end","class","boxes",4,"ngFor","ngForOf"],["slot","end",1,"boxes"],[3,"name"],[3,"color"]],template:function(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n._uU(3,"BattleScribe Tools"),n.qZA()()(),n.TgZ(4,"ion-content")(5,"ion-item-divider"),n._uU(6,"Roster"),n.qZA(),n.TgZ(7,"ion-item")(8,"ion-label"),n._UZ(9,"ion-icon",0),n._uU(10," Neue Datei (exportierte .rosz Datei) "),n.qZA(),n.TgZ(11,"ion-button",1),n.NdJ("click",function(){n.CHM(o);const r=n.MAs(14);return n.KtG(r.click())}),n._uU(12,"w\xe4hlen..."),n.qZA(),n.TgZ(13,"input",2,3),n.NdJ("change",function(r){return e.saveFile(r)}),n.qZA()(),n.YNc(15,M,6,4,"ion-item",4),n.ALo(16,"async"),n.TgZ(17,"ion-item-divider"),n._uU(18,"Flash Card Decks"),n.qZA(),n.YNc(19,y,3,5,"ion-item",5),n.ALo(20,"async"),n.qZA(),n._UZ(21,"bst-translation-settings")}2&t&&(n.xp6(15),n.Q6J("ngForOf",n.lcZ(16,2,e.rosterTitles$)),n.xp6(4),n.Q6J("ngForOf",n.lcZ(20,4,e.lessons$)))},dependencies:[c.ez,c.sg,c.Ov,m.Bz,m.rH,i.Pc,i.yp,i.YG,i.W2,i.Gu,i.gu,i.Ie,i.rH,i.Q$,i.wd,i.sr,i.YI,_.$,d.W,u],styles:[".boxes[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:5px;height:20px}ion-item-divider[_ngcontent-%COMP%]:not(:first-of-type){margin-top:50px}"]})}}]);