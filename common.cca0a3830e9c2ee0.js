"use strict";(self.webpackChunkbattle_cards=self.webpackChunkbattle_cards||[]).push([[8592],{1320:(b,x,g)=>{g.d(x,{c:()=>f});var w=g(1308),_=g(7864),p=g(1898);const f=(h,o)=>{let n,e;const a=(u,c,s)=>{if(typeof document>"u")return;const r=document.elementFromPoint(u,c);r&&o(r)?r!==n&&(v(),l(r,s)):v()},l=(u,c)=>{n=u,e||(e=n);const s=n;(0,w.c)(()=>s.classList.add("ion-activated")),c()},v=(u=!1)=>{if(!n)return;const c=n;(0,w.c)(()=>c.classList.remove("ion-activated")),u&&e!==n&&n.click(),n=void 0};return(0,p.createGesture)({el:h,gestureName:"buttonActiveDrag",threshold:0,onStart:u=>a(u.currentX,u.currentY,_.a),onMove:u=>a(u.currentX,u.currentY,_.b),onEnd:()=>{v(!0),(0,_.h)(),e=void 0}})}},2225:(b,x,g)=>{g.d(x,{g:()=>w});const w=(o,n,e,a,l)=>p(o[1],n[1],e[1],a[1],l).map(v=>_(o[0],n[0],e[0],a[0],v)),_=(o,n,e,a,l)=>l*(3*n*Math.pow(l-1,2)+l*(-3*e*l+3*e+a*l))-o*Math.pow(l-1,3),p=(o,n,e,a,l)=>h((a-=l)-3*(e-=l)+3*(n-=l)-(o-=l),3*e-6*n+3*o,3*n-3*o,o).filter(u=>u>=0&&u<=1),h=(o,n,e,a)=>{if(0===o)return((o,n,e)=>{const a=n*n-4*o*e;return a<0?[]:[(-n+Math.sqrt(a))/(2*o),(-n-Math.sqrt(a))/(2*o)]})(n,e,a);const l=(3*(e/=o)-(n/=o)*n)/3,v=(2*n*n*n-9*n*e+27*(a/=o))/27;if(0===l)return[Math.pow(-v,1/3)];if(0===v)return[Math.sqrt(-l),-Math.sqrt(-l)];const u=Math.pow(v/2,2)+Math.pow(l/3,3);if(0===u)return[Math.pow(v/2,.5)-n/3];if(u>0)return[Math.pow(-v/2+Math.sqrt(u),1/3)-Math.pow(v/2+Math.sqrt(u),1/3)-n/3];const c=Math.sqrt(Math.pow(-l/3,3)),s=Math.acos(-v/(2*Math.sqrt(Math.pow(-l/3,3)))),r=2*Math.pow(c,1/3);return[r*Math.cos(s/3)-n/3,r*Math.cos((s+2*Math.PI)/3)-n/3,r*Math.cos((s+4*Math.PI)/3)-n/3]}},5062:(b,x,g)=>{g.d(x,{i:()=>w});const w=_=>_&&""!==_.dir?"rtl"===_.dir.toLowerCase():"rtl"===document?.dir.toLowerCase()},6602:(b,x,g)=>{g.r(x),g.d(x,{startFocusVisible:()=>f});const w="ion-focused",p=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],f=h=>{let o=[],n=!0;const e=h?h.shadowRoot:document,a=h||document.body,l=y=>{o.forEach(m=>m.classList.remove(w)),y.forEach(m=>m.classList.add(w)),o=y},v=()=>{n=!1,l([])},u=y=>{n=p.includes(y.key),n||l([])},c=y=>{if(n&&void 0!==y.composedPath){const m=y.composedPath().filter(i=>!!i.classList&&i.classList.contains("ion-focusable"));l(m)}},s=()=>{e.activeElement===a&&l([])};return e.addEventListener("keydown",u),e.addEventListener("focusin",c),e.addEventListener("focusout",s),e.addEventListener("touchstart",v),e.addEventListener("mousedown",v),{destroy:()=>{e.removeEventListener("keydown",u),e.removeEventListener("focusin",c),e.removeEventListener("focusout",s),e.removeEventListener("touchstart",v),e.removeEventListener("mousedown",v)},setFocus:l}}},7626:(b,x,g)=>{g.d(x,{C:()=>h,a:()=>p,d:()=>f});var w=g(9671),_=g(5730);const p=function(){var o=(0,w.Z)(function*(n,e,a,l,v,u){var c;if(n)return n.attachViewToDom(e,a,v,l);if(!(u||"string"==typeof a||a instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof a?null===(c=e.ownerDocument)||void 0===c?void 0:c.createElement(a):a;return l&&l.forEach(r=>s.classList.add(r)),v&&Object.assign(s,v),e.appendChild(s),yield new Promise(r=>(0,_.c)(s,r)),s});return function(e,a,l,v,u,c){return o.apply(this,arguments)}}(),f=(o,n)=>{if(n){if(o)return o.removeViewFromDom(n.parentElement,n);n.remove()}return Promise.resolve()},h=()=>{let o,n;return{attachViewToDom:function(){var l=(0,w.Z)(function*(v,u,c={},s=[]){var r,y;if(o=v,u){const i="string"==typeof u?null===(r=o.ownerDocument)||void 0===r?void 0:r.createElement(u):u;s.forEach(t=>i.classList.add(t)),Object.assign(i,c),o.appendChild(i),yield new Promise(t=>(0,_.c)(i,t))}else if(o.children.length>0&&!o.children[0].classList.contains("ion-delegate-host")){const t=null===(y=o.ownerDocument)||void 0===y?void 0:y.createElement("div");t.classList.add("ion-delegate-host"),s.forEach(E=>t.classList.add(E)),t.append(...o.children),o.appendChild(t)}const m=document.querySelector("ion-app")||document.body;return n=document.createComment("ionic teleport"),o.parentNode.insertBefore(n,o),m.appendChild(o),o});return function(u,c){return l.apply(this,arguments)}}(),removeViewFromDom:()=>(o&&n&&(n.parentNode.insertBefore(o,n),n.remove()),Promise.resolve())}}},7864:(b,x,g)=>{g.d(x,{a:()=>f,b:()=>h,c:()=>p,d:()=>n,h:()=>o});const w={getEngine(){var e;const a=window;return a.TapticEngine||(null===(e=a.Capacitor)||void 0===e?void 0:e.isPluginAvailable("Haptics"))&&a.Capacitor.Plugins.Haptics},available(){var e;const a=window;return!!this.getEngine()&&("web"!==(null===(e=a.Capacitor)||void 0===e?void 0:e.getPlatform())||typeof navigator<"u"&&void 0!==navigator.vibrate)},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const a=this.getEngine();if(!a)return;const l=this.isCapacitor()?e.style.toUpperCase():e.style;a.impact({style:l})},notification(e){const a=this.getEngine();if(!a)return;const l=this.isCapacitor()?e.style.toUpperCase():e.style;a.notification({style:l})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},_=()=>w.available(),p=()=>{_()&&w.selection()},f=()=>{_()&&w.selectionStart()},h=()=>{_()&&w.selectionChanged()},o=()=>{_()&&w.selectionEnd()},n=e=>{_()&&w.impact(e)}},9582:(b,x,g)=>{g.d(x,{a:()=>w,b:()=>u,c:()=>n,d:()=>c,e:()=>M,f:()=>o,g:()=>s,h:()=>p,i:()=>_,j:()=>t,k:()=>E,l:()=>e,m:()=>l,n:()=>r,o:()=>a,p:()=>h,q:()=>f,r:()=>i,s:()=>d,t:()=>v,u:()=>y,v:()=>m});const w="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 64L144 256l224 192V64z'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 368L256 144 64 368h384z'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",y="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",M="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},8416:(b,x,g)=>{g.d(x,{I:()=>h,a:()=>l,b:()=>o,c:()=>c,d:()=>r,f:()=>v,g:()=>a,i:()=>e,p:()=>s,r:()=>y,s:()=>u});var w=g(9671),_=g(5730),p=g(4147);const h="ion-content",o=".ion-content-scroll-host",n=`${h}, ${o}`,e=m=>"ION-CONTENT"===m.tagName,a=function(){var m=(0,w.Z)(function*(i){return e(i)?(yield new Promise(t=>(0,_.c)(i,t)),i.getScrollElement()):i});return function(t){return m.apply(this,arguments)}}(),l=m=>m.querySelector(o)||m.querySelector(n),v=m=>m.closest(n),u=(m,i)=>e(m)?m.scrollToTop(i):Promise.resolve(m.scrollTo({top:0,left:0,behavior:i>0?"smooth":"auto"})),c=(m,i,t,E)=>e(m)?m.scrollByPoint(i,t,E):Promise.resolve(m.scrollBy({top:t,left:i,behavior:E>0?"smooth":"auto"})),s=m=>(0,p.a)(m,h),r=m=>{if(e(m)){const t=m.scrollY;return m.scrollY=!1,t}return m.style.setProperty("overflow","hidden"),!0},y=(m,i)=>{e(m)?m.scrollY=i:m.style.removeProperty("overflow")}},9:(b,x,g)=>{g.d(x,{s:()=>w});const w=e=>{try{if(e instanceof n)return e.value;if(!f()||"string"!=typeof e||""===e)return e;const a=document.createDocumentFragment(),l=document.createElement("div");a.appendChild(l),l.innerHTML=e,o.forEach(s=>{const r=a.querySelectorAll(s);for(let y=r.length-1;y>=0;y--){const m=r[y];m.parentNode?m.parentNode.removeChild(m):a.removeChild(m);const i=p(m);for(let t=0;t<i.length;t++)_(i[t])}});const v=p(a);for(let s=0;s<v.length;s++)_(v[s]);const u=document.createElement("div");u.appendChild(a);const c=u.querySelector("div");return null!==c?c.innerHTML:u.innerHTML}catch(a){return console.error(a),""}},_=e=>{if(e.nodeType&&1!==e.nodeType)return;for(let l=e.attributes.length-1;l>=0;l--){const v=e.attributes.item(l),u=v.name;if(!h.includes(u.toLowerCase())){e.removeAttribute(u);continue}const c=v.value;null!=c&&c.toLowerCase().includes("javascript:")&&e.removeAttribute(u)}const a=p(e);for(let l=0;l<a.length;l++)_(a[l])},p=e=>null!=e.children?e.children:e.childNodes,f=()=>{var e;const l=null===(e=window?.Ionic)||void 0===e?void 0:e.config;return!l||(l.get?l.get("sanitizerEnabled",!0):!0===l.sanitizerEnabled||void 0===l.sanitizerEnabled)},h=["class","id","href","src","name","slot"],o=["script","style","iframe","meta","link","object","embed"];class n{constructor(a){this.value=a}}},5234:(b,x,g)=>{g.r(x),g.d(x,{KEYBOARD_DID_CLOSE:()=>_,KEYBOARD_DID_OPEN:()=>w,copyVisualViewport:()=>i,keyboardDidClose:()=>s,keyboardDidOpen:()=>u,keyboardDidResize:()=>c,resetKeyboardAssist:()=>n,setKeyboardClose:()=>v,setKeyboardOpen:()=>l,startKeyboardAssist:()=>e,trackViewportChanges:()=>m});const w="ionKeyboardDidShow",_="ionKeyboardDidHide";let f={},h={},o=!1;const n=()=>{f={},h={},o=!1},e=t=>{a(t),t.visualViewport&&(h=i(t.visualViewport),t.visualViewport.onresize=()=>{m(t),u()||c(t)?l(t):s(t)&&v(t)})},a=t=>{t.addEventListener("keyboardDidShow",E=>l(t,E)),t.addEventListener("keyboardDidHide",()=>v(t))},l=(t,E)=>{r(t,E),o=!0},v=t=>{y(t),o=!1},u=()=>!o&&f.width===h.width&&(f.height-h.height)*h.scale>150,c=t=>o&&!s(t),s=t=>o&&h.height===t.innerHeight,r=(t,E)=>{const M=new CustomEvent(w,{detail:{keyboardHeight:E?E.keyboardHeight:t.innerHeight-h.height}});t.dispatchEvent(M)},y=t=>{const E=new CustomEvent(_);t.dispatchEvent(E)},m=t=>{f=Object.assign({},h),h=i(t.visualViewport)},i=t=>({width:Math.round(t.width),height:Math.round(t.height),offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,pageTop:t.pageTop,pageLeft:t.pageLeft,scale:t.scale})},9852:(b,x,g)=>{g.d(x,{c:()=>_});var w=g(3457);const _=p=>{let f,h,o;const n=()=>{f=()=>{o=!0,p&&p(!0)},h=()=>{o=!1,p&&p(!1)},null==w.w||w.w.addEventListener("keyboardWillShow",f),null==w.w||w.w.addEventListener("keyboardWillHide",h)};return n(),{init:n,destroy:()=>{null==w.w||w.w.removeEventListener("keyboardWillShow",f),null==w.w||w.w.removeEventListener("keyboardWillHide",h),f=h=void 0},isKeyboardVisible:()=>o}}},7741:(b,x,g)=>{g.d(x,{S:()=>_});const _={bubbles:{dur:1e3,circles:9,fn:(p,f,h)=>{const o=p*f/h-p+"ms",n=2*Math.PI*f/h;return{r:5,style:{top:9*Math.sin(n)+"px",left:9*Math.cos(n)+"px","animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:(p,f,h)=>{const o=f/h,n=p*o-p+"ms",e=2*Math.PI*o;return{r:5,style:{top:9*Math.sin(e)+"px",left:9*Math.cos(e)+"px","animation-delay":n}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(p,f)=>({r:6,style:{left:9-9*f+"px","animation-delay":-110*f+"ms"}})},lines:{dur:1e3,lines:8,fn:(p,f,h)=>({y1:14,y2:26,style:{transform:`rotate(${360/h*f+(f<h/2?180:-180)}deg)`,"animation-delay":p*f/h-p+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(p,f,h)=>({y1:12,y2:20,style:{transform:`rotate(${360/h*f+(f<h/2?180:-180)}deg)`,"animation-delay":p*f/h-p+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(p,f,h)=>({y1:17,y2:29,style:{transform:`rotate(${30*f+(f<6?180:-180)}deg)`,"animation-delay":p*f/h-p+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(p,f,h)=>({y1:12,y2:20,style:{transform:`rotate(${30*f+(f<6?180:-180)}deg)`,"animation-delay":p*f/h-p+"ms"}})}}},9210:(b,x,g)=>{g.r(x),g.d(x,{createSwipeBackGesture:()=>h});var w=g(5730),_=g(5062),p=g(1898);g(4349);const h=(o,n,e,a,l)=>{const v=o.ownerDocument.defaultView,u=(0,_.i)(o),s=t=>u?-t.deltaX:t.deltaX;return(0,p.createGesture)({el:o,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:t=>(t=>{const{startX:d}=t;return u?d>=v.innerWidth-50:d<=50})(t)&&n(),onStart:e,onMove:t=>{const d=s(t)/v.innerWidth;a(d)},onEnd:t=>{const E=s(t),d=v.innerWidth,M=E/d,k=(t=>u?-t.velocityX:t.velocityX)(t),C=k>=0&&(k>.2||E>d/2),D=(C?1-M:M)*d;let L=0;if(D>5){const O=D/Math.abs(k);L=Math.min(O,540)}l(C,M<=0?.01:(0,w.l)(0,M,.9999),L)}})}},2721:(b,x,g)=>{g.d(x,{W:()=>p,H:()=>v});var w=g(8993),_=g(4650);class p{}p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=_.oAB({type:p}),p.\u0275inj=_.cJS({imports:[w.Mf]});var f=g(9671),h=g(3573),o=g(3905),n=g(9653);const e=(0,n.P1)(w.Wm,u=>u.map(c=>({name:c.name,boxContent:c.cards.reduce((s,r)=>(s[r.box]||(s[r.box]=0),s[r.box]++,s),new Array(c.boxes).fill(0))})));var a=g(688);class v{constructor(c,s){this.store$=c,this.translationService=s}get lessons$(){return this.store$.select(e)}deleteDeck(c){this.store$.dispatch((0,w.GJ)({index:c}))}createFlashCardDeck(c,s){var r=this;return(0,f.Z)(function*(){const y=yield(0,o.z)(r.translationService.selectedLanguage$),m=yield(0,o.z)(r.store$.select(((u,c,s,r)=>(0,n.P1)(a.bA,y=>{const i={name:c.name,cards:[],boxes:c.boxes};return y[u]?.detachments.forEach(t=>{t.units.forEach(E=>{c.rules&&E.rules.forEach(d=>{const M=void 0===t.units.map(k=>k.rules).flat().find(k=>k.title===d.title&&k.description!==d.description);i.cards.push({question:`${r(d.title,s)}${M?"":` (${r(E.title,s)})`}?`,answer:r(d.description,s),box:0})}),E.models.map(d=>d.profiles).flat().forEach(d=>{c.unitProfiles.attacks&&i.cards.push({question:`${r(d.title,s)}: Atacken (A)`,answer:r(d.attacks,s),box:0}),c.unitProfiles.ballisticSkill&&i.cards.push({question:`${r(d.title,s)}: Ballistische F\xe4higkeit (BF)`,answer:r(d.ballisticSkill,s),box:0}),c.unitProfiles.leadership&&i.cards.push({question:`${r(d.title,s)}: Moralwert (MW)`,answer:r(d.leadership,s),box:0}),c.unitProfiles.movement&&i.cards.push({question:`${r(d.title,s)}: Bewegung (B)`,answer:r(d.movement,s),box:0}),c.unitProfiles.save&&i.cards.push({question:`${r(d.title,s)}: R\xfcstungswert (RW)`,answer:r(d.save,s),box:0}),c.unitProfiles.strength&&i.cards.push({question:`${r(d.title,s)}: St\xe4rke (S)`,answer:r(d.strength,s),box:0}),c.unitProfiles.toughness&&i.cards.push({question:`${r(d.title,s)}: Wiederstand (W)`,answer:r(d.toughness,s),box:0}),c.unitProfiles.weaponSkill&&i.cards.push({question:`${r(d.title,s)}: Kampfgeschick (KG)`,answer:r(d.weaponSkill,s),box:0}),c.unitProfiles.wounds&&i.cards.push({question:`${r(d.title,s)}: Lebenspunkte (LP)`,answer:r(d.wounds,s),box:0})}),E.models.map(d=>d.weapons).flat().map(d=>d.profiles).flat().forEach(d=>{c.weaponProfiles.abilities&&i.cards.push({question:`${r(d.title,s)}: F\xe4higkeiten`,answer:r(d.abilities,s),box:0}),c.weaponProfiles.armourPenetration&&i.cards.push({question:`${r(d.title,s)}: Durchschlag (DS)`,answer:r(d.armourPenetration,s),box:0}),c.weaponProfiles.damage&&i.cards.push({question:`${r(d.title,s)}: Schdenswert (SW)`,answer:r(d.damage,s),box:0}),c.weaponProfiles.range&&i.cards.push({question:`${r(d.title,s)}: Reichweite`,answer:r(d.range,s),box:0}),c.weaponProfiles.strength&&i.cards.push({question:`${r(d.title,s)}: St\xe4rke (S)`,answer:r(d.strength,s),box:0}),c.weaponProfiles.type&&i.cards.push({question:`${r(d.title,s)}: Typ`,answer:r(d.type,s),box:0})})})}),{...i,cards:i.cards.filter((t,E)=>E===i.cards.findIndex(d=>d.question===t.question&&d.answer===t.answer))}}))(c,s,y,h.So)));r.store$.dispatch((0,w.wB)({deck:m}))})()}getSession(c){var s=this;return(0,f.Z)(function*(){const r=yield(0,o.z)(s.store$.select((0,w.oh)(c)));if(!r)throw new Error("No Deck");const y=[...r.cards].reduce((E,d)=>d.box<E?d.box:E,r.boxes);if(y===r.boxes)return{deckName:r.name,currentCard:null,box:y,maxBox:r.boxes-1,remainingCards:r.cards.length,showAnswer:()=>{},skip:()=>{},markCorrect:()=>{},markIncorrect:()=>{}};const m=[...r.cards].sort(()=>.5-Math.random()).filter(E=>E.box===y);let i=m.pop();const t={deckName:r.name,box:y,maxBox:r.boxes-1,remainingCards:m.length+1,currentCard:i?{question:i.question,answer:null,box:i.box}:null,showAnswer:()=>{!i||!t.currentCard||(t.currentCard.answer=i.answer)},markCorrect:()=>{!i||!t.currentCard||(s.store$.dispatch((0,w.I_)({deckIndex:c,cardIndex:r.cards.findIndex(E=>E.question===i?.question),box:i?.box+1})),t.skip())},markIncorrect:()=>{!i||!t.currentCard||(s.store$.dispatch((0,w.I_)({deckIndex:c,cardIndex:r.cards.findIndex(E=>E.question===i?.question),box:0})),t.skip())},skip:()=>{i=m.pop(),t.currentCard&&(t.currentCard=i?{...t.currentCard,question:i.question,answer:null}:null,t.remainingCards=m.length+(i?1:0))}};return t})()}}v.\u0275fac=function(c){return new(c||v)(_.LFG(n.yh),_.LFG(h.fA))},v.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}}]);