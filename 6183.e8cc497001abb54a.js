"use strict";(self.webpackChunkbattle_cards=self.webpackChunkbattle_cards||[]).push([[6183],{8993:(v,L,c)=>{c.d(L,{Mf:()=>d,wB:()=>F,GJ:()=>b,oh:()=>p,Wm:()=>y,I_:()=>f});var o=c(9653);const F=(0,o.PH)("flash-cards/deck-added",(0,o.Ky)()),b=(0,o.PH)("flash-cards/deck-deleted",(0,o.Ky)()),f=(0,o.PH)("flash-cards/moved-to-box",(0,o.Ky)());var m=c(6166);const A=(0,o.Lq)([],(0,o.on)(F,(h,i)=>[...h,i.deck]),(0,o.on)(f,(h,i)=>{const l=[...h];return l[i.deckIndex]={...h[i.deckIndex]},l[i.deckIndex].cards=[...h[i.deckIndex].cards],l[i.deckIndex].cards[i.cardIndex]={...l[i.deckIndex].cards[i.cardIndex],box:i.box},l}),(0,o.on)(b,(h,i)=>[...h].filter((l,u)=>u!==i.index)));var x=c(4650);class d{}d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=x.oAB({type:d}),d.\u0275inj=x.cJS({imports:[o.Aw.forFeature("flash-cards",A,{metaReducers:[(0,m.Wi)("flash-cards/v2",{storage:localStorage})]})]});const y=(0,o.ZF)("flash-cards"),p=h=>(0,o.P1)(y,i=>i[h]||null)},7232:(v,L,c)=>{c.d(L,{zk:()=>d,qX:()=>F,yD:()=>b,mb:()=>h,z5:()=>f,bQ:()=>p,bA:()=>y,sl:()=>i});var o=c(9653);const F=(0,o.PH)("rosters/add",(0,o.Ky)()),b=(0,o.PH)("rosters/delete",(0,o.Ky)()),f=(0,o.PH)("rosters/overwrite",(0,o.Ky)());var m=c(6166);const A=(0,o.Lq)([],(0,o.on)(F,(l,u)=>{const g=[...l];return g.push(u.roster),g}),(0,o.on)(f,(l,u)=>{const g=[...l];return g[u.index]=u.roster,g}),(0,o.on)(b,(l,u)=>[...l].filter((S,n)=>n!==u.index)));var x=c(4650);class d{}d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=x.oAB({type:d}),d.\u0275inj=x.cJS({imports:[o.Aw.forFeature("rosters",A,{metaReducers:[(0,m.Wi)("rosters/v2",{storage:localStorage})]})]});const y=(0,o.ZF)("rosters"),p=l=>(0,o.P1)(y,u=>u[l]||null),h=(l,u)=>(0,o.P1)(p(l),g=>g.detachments[u]||null),i=(l,u,g)=>(0,o.P1)(p(l),S=>S.detachments[u]?.units[g]||null)},3573:(v,L,c)=>{c.d(L,{fA:()=>g});class o{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(n,a=!1){return this.onePassHasher.start().appendStr(n).end(a)}static hashAsciiStr(n,a=!1){return this.onePassHasher.start().appendAsciiStr(n).end(a)}static _hex(n){const a=o.hexChars,e=o.hexOut;let t,s,r,_;for(_=0;_<4;_+=1)for(s=8*_,t=n[_],r=0;r<8;r+=2)e[s+1+r]=a.charAt(15&t),t>>>=4,e[s+0+r]=a.charAt(15&t),t>>>=4;return e.join("")}static _md5cycle(n,a){let e=n[0],t=n[1],s=n[2],r=n[3];e+=(t&s|~t&r)+a[0]-680876936|0,e=(e<<7|e>>>25)+t|0,r+=(e&t|~e&s)+a[1]-389564586|0,r=(r<<12|r>>>20)+e|0,s+=(r&e|~r&t)+a[2]+606105819|0,s=(s<<17|s>>>15)+r|0,t+=(s&r|~s&e)+a[3]-1044525330|0,t=(t<<22|t>>>10)+s|0,e+=(t&s|~t&r)+a[4]-176418897|0,e=(e<<7|e>>>25)+t|0,r+=(e&t|~e&s)+a[5]+1200080426|0,r=(r<<12|r>>>20)+e|0,s+=(r&e|~r&t)+a[6]-1473231341|0,s=(s<<17|s>>>15)+r|0,t+=(s&r|~s&e)+a[7]-45705983|0,t=(t<<22|t>>>10)+s|0,e+=(t&s|~t&r)+a[8]+1770035416|0,e=(e<<7|e>>>25)+t|0,r+=(e&t|~e&s)+a[9]-1958414417|0,r=(r<<12|r>>>20)+e|0,s+=(r&e|~r&t)+a[10]-42063|0,s=(s<<17|s>>>15)+r|0,t+=(s&r|~s&e)+a[11]-1990404162|0,t=(t<<22|t>>>10)+s|0,e+=(t&s|~t&r)+a[12]+1804603682|0,e=(e<<7|e>>>25)+t|0,r+=(e&t|~e&s)+a[13]-40341101|0,r=(r<<12|r>>>20)+e|0,s+=(r&e|~r&t)+a[14]-1502002290|0,s=(s<<17|s>>>15)+r|0,t+=(s&r|~s&e)+a[15]+1236535329|0,t=(t<<22|t>>>10)+s|0,e+=(t&r|s&~r)+a[1]-165796510|0,e=(e<<5|e>>>27)+t|0,r+=(e&s|t&~s)+a[6]-1069501632|0,r=(r<<9|r>>>23)+e|0,s+=(r&t|e&~t)+a[11]+643717713|0,s=(s<<14|s>>>18)+r|0,t+=(s&e|r&~e)+a[0]-373897302|0,t=(t<<20|t>>>12)+s|0,e+=(t&r|s&~r)+a[5]-701558691|0,e=(e<<5|e>>>27)+t|0,r+=(e&s|t&~s)+a[10]+38016083|0,r=(r<<9|r>>>23)+e|0,s+=(r&t|e&~t)+a[15]-660478335|0,s=(s<<14|s>>>18)+r|0,t+=(s&e|r&~e)+a[4]-405537848|0,t=(t<<20|t>>>12)+s|0,e+=(t&r|s&~r)+a[9]+568446438|0,e=(e<<5|e>>>27)+t|0,r+=(e&s|t&~s)+a[14]-1019803690|0,r=(r<<9|r>>>23)+e|0,s+=(r&t|e&~t)+a[3]-187363961|0,s=(s<<14|s>>>18)+r|0,t+=(s&e|r&~e)+a[8]+1163531501|0,t=(t<<20|t>>>12)+s|0,e+=(t&r|s&~r)+a[13]-1444681467|0,e=(e<<5|e>>>27)+t|0,r+=(e&s|t&~s)+a[2]-51403784|0,r=(r<<9|r>>>23)+e|0,s+=(r&t|e&~t)+a[7]+1735328473|0,s=(s<<14|s>>>18)+r|0,t+=(s&e|r&~e)+a[12]-1926607734|0,t=(t<<20|t>>>12)+s|0,e+=(t^s^r)+a[5]-378558|0,e=(e<<4|e>>>28)+t|0,r+=(e^t^s)+a[8]-2022574463|0,r=(r<<11|r>>>21)+e|0,s+=(r^e^t)+a[11]+1839030562|0,s=(s<<16|s>>>16)+r|0,t+=(s^r^e)+a[14]-35309556|0,t=(t<<23|t>>>9)+s|0,e+=(t^s^r)+a[1]-1530992060|0,e=(e<<4|e>>>28)+t|0,r+=(e^t^s)+a[4]+1272893353|0,r=(r<<11|r>>>21)+e|0,s+=(r^e^t)+a[7]-155497632|0,s=(s<<16|s>>>16)+r|0,t+=(s^r^e)+a[10]-1094730640|0,t=(t<<23|t>>>9)+s|0,e+=(t^s^r)+a[13]+681279174|0,e=(e<<4|e>>>28)+t|0,r+=(e^t^s)+a[0]-358537222|0,r=(r<<11|r>>>21)+e|0,s+=(r^e^t)+a[3]-722521979|0,s=(s<<16|s>>>16)+r|0,t+=(s^r^e)+a[6]+76029189|0,t=(t<<23|t>>>9)+s|0,e+=(t^s^r)+a[9]-640364487|0,e=(e<<4|e>>>28)+t|0,r+=(e^t^s)+a[12]-421815835|0,r=(r<<11|r>>>21)+e|0,s+=(r^e^t)+a[15]+530742520|0,s=(s<<16|s>>>16)+r|0,t+=(s^r^e)+a[2]-995338651|0,t=(t<<23|t>>>9)+s|0,e+=(s^(t|~r))+a[0]-198630844|0,e=(e<<6|e>>>26)+t|0,r+=(t^(e|~s))+a[7]+1126891415|0,r=(r<<10|r>>>22)+e|0,s+=(e^(r|~t))+a[14]-1416354905|0,s=(s<<15|s>>>17)+r|0,t+=(r^(s|~e))+a[5]-57434055|0,t=(t<<21|t>>>11)+s|0,e+=(s^(t|~r))+a[12]+1700485571|0,e=(e<<6|e>>>26)+t|0,r+=(t^(e|~s))+a[3]-1894986606|0,r=(r<<10|r>>>22)+e|0,s+=(e^(r|~t))+a[10]-1051523|0,s=(s<<15|s>>>17)+r|0,t+=(r^(s|~e))+a[1]-2054922799|0,t=(t<<21|t>>>11)+s|0,e+=(s^(t|~r))+a[8]+1873313359|0,e=(e<<6|e>>>26)+t|0,r+=(t^(e|~s))+a[15]-30611744|0,r=(r<<10|r>>>22)+e|0,s+=(e^(r|~t))+a[6]-1560198380|0,s=(s<<15|s>>>17)+r|0,t+=(r^(s|~e))+a[13]+1309151649|0,t=(t<<21|t>>>11)+s|0,e+=(s^(t|~r))+a[4]-145523070|0,e=(e<<6|e>>>26)+t|0,r+=(t^(e|~s))+a[11]-1120210379|0,r=(r<<10|r>>>22)+e|0,s+=(e^(r|~t))+a[2]+718787259|0,s=(s<<15|s>>>17)+r|0,t+=(r^(s|~e))+a[9]-343485551|0,t=(t<<21|t>>>11)+s|0,n[0]=e+n[0]|0,n[1]=t+n[1]|0,n[2]=s+n[2]|0,n[3]=r+n[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(o.stateIdentity),this}appendStr(n){const a=this._buffer8,e=this._buffer32;let s,r,t=this._bufferLength;for(r=0;r<n.length;r+=1){if(s=n.charCodeAt(r),s<128)a[t++]=s;else if(s<2048)a[t++]=192+(s>>>6),a[t++]=63&s|128;else if(s<55296||s>56319)a[t++]=224+(s>>>12),a[t++]=s>>>6&63|128,a[t++]=63&s|128;else{if(s=1024*(s-55296)+(n.charCodeAt(++r)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");a[t++]=240+(s>>>18),a[t++]=s>>>12&63|128,a[t++]=s>>>6&63|128,a[t++]=63&s|128}t>=64&&(this._dataLength+=64,o._md5cycle(this._state,e),t-=64,e[0]=e[16])}return this._bufferLength=t,this}appendAsciiStr(n){const a=this._buffer8,e=this._buffer32;let s,t=this._bufferLength,r=0;for(;;){for(s=Math.min(n.length-r,64-t);s--;)a[t++]=n.charCodeAt(r++);if(t<64)break;this._dataLength+=64,o._md5cycle(this._state,e),t=0}return this._bufferLength=t,this}appendByteArray(n){const a=this._buffer8,e=this._buffer32;let s,t=this._bufferLength,r=0;for(;;){for(s=Math.min(n.length-r,64-t);s--;)a[t++]=n[r++];if(t<64)break;this._dataLength+=64,o._md5cycle(this._state,e),t=0}return this._bufferLength=t,this}getState(){const n=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[n[0],n[1],n[2],n[3]]}}setState(n){const a=n.buffer,e=n.state,t=this._state;let s;for(this._dataLength=n.length,this._bufferLength=n.buflen,t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],s=0;s<a.length;s+=1)this._buffer8[s]=a.charCodeAt(s)}end(n=!1){const a=this._bufferLength,e=this._buffer8,t=this._buffer32,s=1+(a>>2);this._dataLength+=a;const r=8*this._dataLength;if(e[a]=128,e[a+1]=e[a+2]=e[a+3]=0,t.set(o.buffer32Identity.subarray(s),s),a>55&&(o._md5cycle(this._state,t),t.set(o.buffer32Identity)),r<=4294967295)t[14]=r;else{const _=r.toString(16).match(/(.*?)(.{0,8})$/);if(null===_)return;const I=parseInt(_[2],16),w=parseInt(_[1],16)||0;t[14]=I,t[15]=w}return o._md5cycle(this._state,t),n?this._state:o._hex(this._state)}}if(o.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),o.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o.hexChars="0123456789abcdef",o.hexOut=[],o.onePassHasher=new o,"5d41402abc4b2a76b9719d911017c592"!==o.hashStr("hello"))throw new Error("Md5 self test failed.");const b="translations-v2-";var A=c(9671),x=c(7579),d=c(1135),y=c(4004),p=c(3900),h=c(8675),i=c(9300),l=c(3905),u=c(4650);class g{constructor(){this.languageStorageKey="language-v2",this._updatedTexts$=new x.x,this.updatedTexts$=this._updatedTexts$.asObservable(),this.languages={en:{flag:"\u{1f1ec}\u{1f1e7}",name:"English"},de:{flag:"\u{1f1e9}\u{1f1ea}",name:"Deutsch"},fr:{flag:"\u{1f1eb}\u{1f1f7}",name:"Fran\xe7ais"},es:{flag:"\u{1f1ea}\u{1f1f8}",name:"Espa\xf1ol"}},this.selectedLanguage$=new d.X(localStorage.getItem(this.languageStorageKey)||"de"),this.translatable$=this.selectedLanguage$.pipe((0,y.U)(n=>"en"!==n)),this._translationsEditMode$=new d.X(!!localStorage.getItem("translationsEditMode"))}setLanguage(n){localStorage.setItem(this.languageStorageKey,n),this.selectedLanguage$.next(n)}getTranslation(n){const a=o.hashStr(n);return this.selectedLanguage$.pipe((0,p.w)(e=>this.updatedTexts$.pipe((0,h.O)(a),(0,i.h)(t=>t===a),(0,y.U)(()=>((S,n)=>{if(!S)return"";const a=o.hashStr(S);return localStorage.getItem(`${b}${n}-${a}`)||S})(n,e)))))}translate(n,a,e){var t=this;return(0,A.Z)(function*(){const s=e||(yield(0,l.z)(t.selectedLanguage$)),r=((S,n,a)=>{const e=o.hashStr(S);return n&&S!==n?(localStorage.setItem(`${b}${a}-${e}`,n),e):(localStorage.removeItem(`${b}${a}-${e}`),e)})(n,a,s);t._updatedTexts$.next(r)})()}export(){const n=this.getAllTranslations(),a=document.createElement("a"),e=JSON.stringify(n),t=new Blob([e],{type:"octet/stream"}),s=window.URL.createObjectURL(t);a.href=s,a.download="translations.json",a.click(),window.URL.revokeObjectURL(s)}import(n){var a=this;return(0,A.Z)(function*(){const e=yield n.text(),t=JSON.parse(e);Object.entries(t).forEach(([s,r])=>{const _=s.match(/[0-9a-f]{32}$/)?.[0];_&&(localStorage.setItem(s,r),a._updatedTexts$.next(_))})})()}getAllTranslations(){const n={};for(let a=0;a<localStorage.length;a++){const e=localStorage.key(a);e&&e.match(new RegExp(`^${b}(en|de|fr|es)-[0-9a-f]{32}`))&&(n[e]=localStorage.getItem(e)||"")}return n}get translationsEditMode$(){return this._translationsEditMode$.asObservable()}setTranslationsEditMode(n){this._translationsEditMode$.next(n),n?localStorage.setItem("translationsEditMode","enabled"):localStorage.removeItem("translationsEditMode")}}g.\u0275fac=function(n){return new(n||g)},g.\u0275prov=u.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})},6166:(v,L,c)=>{c.d(L,{Wi:()=>b});const b=(f,m)=>((f,m,A)=>x=>(d,y)=>{const p={...f,...A};let h=d;void 0===h&&(h=p.parse(p.storage.getItem(m)));const i=x(h,y);return p.storage.setItem(m,p.serialize(i)),i})({storage:sessionStorage,serialize:f=>JSON.stringify(f),parse:f=>{if(f)try{return JSON.parse(f)}catch{return}}},f,m)},3905:(v,L,c)=>{c.d(L,{z:()=>b});var o=c(6805),F=c(930);function b(f,m){const A="object"==typeof m;return new Promise((x,d)=>{const y=new F.Hp({next:p=>{x(p),y.unsubscribe()},error:d,complete:()=>{A?x(m.defaultValue):d(new o.K)}});f.subscribe(y)})}}}]);