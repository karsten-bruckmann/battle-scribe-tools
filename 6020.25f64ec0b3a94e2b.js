"use strict";(self.webpackChunkbattle_cards=self.webpackChunkbattle_cards||[]).push([[6020],{6020:(J,u,c)=>{c.r(u),c.d(u,{FlashCardLessonComponent:()=>g});var l=c(6895),d=c(4258),_=c(807),C=c(391),p=c(9300),r=c(603),h=c(4004),f=c(3900),x=c(4782),n=c(4650),Z=c(9653);function b(t,o){if(1&t&&(n.TgZ(0,"h1"),n._UZ(1,"bst-translatable",9),n.qZA()),2&t){const e=o.$implicit;n.xp6(1),n.Q6J("text",e)}}function F(t,o){if(1&t&&(n.TgZ(0,"h2"),n._UZ(1,"bst-translatable",9),n.qZA()),2&t){const e=o.$implicit;n.xp6(1),n.Q6J("text",e||"")}}function T(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"ion-buttons")(1,"ion-button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(4);return n.KtG(s.answerHidden=!1)}),n._uU(2,"L\xf6sung"),n.qZA(),n.TgZ(3,"ion-button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(3).ngIf,a=n.oxw();return n.KtG(a.skipped(s))}),n._uU(4,"\xdcberspringen"),n.qZA()()}}function k(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"ion-buttons")(1,"ion-button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(3).ngIf,a=n.oxw();return n.KtG(a.notKnown(s))}),n._uU(2,"wusste ich nicht"),n.qZA(),n.TgZ(3,"ion-button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(3).ngIf,a=n.oxw();return n.KtG(a.known(s))}),n._uU(4,"wusste ich"),n.qZA()()}}const v=function(t){return{hidden:t}};function w(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"ion-content")(2,"p",7),n._uU(3),n.qZA(),n.TgZ(4,"ion-card",8)(5,"ion-card-content")(6,"h1"),n._UZ(7,"bst-translatable",9),n._uU(8,": "),n.qZA(),n.YNc(9,b,2,1,"h1",10),n.qZA()(),n.TgZ(10,"ion-card",11)(11,"ion-card-content"),n.YNc(12,F,2,1,"h2",10),n.qZA()()(),n.TgZ(13,"ion-footer")(14,"ion-toolbar"),n.YNc(15,T,5,0,"ion-buttons",5),n.YNc(16,k,5,0,"ion-buttons",5),n.qZA()(),n.BQk()),2&t){const e=n.oxw().ngIf,i=n.oxw().ngIf,s=n.oxw();n.xp6(3),n.lnq(" Box ",i.box+1,"/",e.boxContent.length," | Noch ",i.remainingCards," Karten "),n.xp6(4),n.Q6J("text",i.currentCard.question),n.xp6(2),n.Q6J("ngForOf",i.currentCard.rules),n.xp6(1),n.Q6J("ngClass",n.VKq(9,v,s.answerHidden)),n.xp6(2),n.Q6J("ngForOf",i.currentCard.answers),n.xp6(3),n.Q6J("ngIf",s.answerHidden),n.xp6(1),n.Q6J("ngIf",!s.answerHidden)}}function L(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",12),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(4);return n.KtG(s.continue())}),n._uU(1,"weiter"),n.qZA()}}function M(t,o){if(1&t&&(n.TgZ(0,"ion-content")(1,"div",13)(2,"div",14),n._UZ(3,"ion-icon",15),n.qZA(),n.TgZ(4,"div")(5,"ion-button",16),n._uU(6,"zur\xfcck"),n.qZA(),n.YNc(7,L,2,0,"ion-button",17),n.qZA()()()),2&t){const e=n.oxw(2).ngIf;n.xp6(5),n.Q6J("routerLink","../../"),n.xp6(2),n.Q6J("ngIf",e)}}function O(t,o){if(1&t&&(n.ynx(0),n.YNc(1,w,17,11,"ng-container",3),n.YNc(2,M,8,2,"ng-template",null,6,n.W1O),n.BQk()),2&t){const e=n.MAs(3),i=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!i.isFinished)("ngIfElse",e)}}function A(t,o){if(1&t&&(n.ynx(0),n.YNc(1,O,4,2,"ng-container",5),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,e.deck$))}}function I(t,o){1&t&&(n.TgZ(0,"ion-content")(1,"p",7),n._uU(2,"Das wars. Du wei\xdft alles. Wirklich alles!"),n.qZA(),n.TgZ(3,"div",13)(4,"div",14),n._UZ(5,"ion-icon",15),n.qZA(),n.TgZ(6,"div")(7,"ion-button",16),n._uU(8,"zur\xfcck"),n.qZA()()()()),2&t&&(n.xp6(7),n.Q6J("routerLink","../../"))}const y=function(){return["/"]};class g{constructor(o,e){this.activatedRoute=o,this.store$=e,this.session$=this.activatedRoute.paramMap.pipe((0,h.U)(i=>i.get("deck-id")),(0,p.h)(i=>null!==i),(0,f.w)(i=>this.store$.select((0,_.is)(i))),(0,x.d)({refCount:!0,bufferSize:1})),this.deck$=this.session$.pipe(t=>t.pipe((0,p.h)(o=>!!o)),(0,f.w)(i=>this.store$.select(_.Bx).pipe((0,h.U)(s=>Object.values(s).flat().find(a=>a.deckId===i.deckId))))),this.answerHidden=!0,this.isFinished=!1}known(o){this.answerHidden=!0,1===o.remainingCards&&(this.isFinished=!0),this.store$.dispatch((0,_.p0)({session:o}))}notKnown(o){this.answerHidden=!0,1===o.remainingCards&&(this.isFinished=!0),this.store$.dispatch((0,_.Gy)({session:o}))}skipped(o){this.answerHidden=!0,1===o.remainingCards&&(this.isFinished=!0),this.store$.dispatch((0,_.t4)({session:o}))}continue(){this.isFinished=!1}}g.\u0275fac=function(o){return new(o||g)(n.Y36(d.gz),n.Y36(Z.yh))},g.\u0275cmp=n.Xpm({type:g,selectors:[["ng-component"]],standalone:!0,features:[n.jDz],decls:9,vars:7,consts:[["slot","start"],[3,"routerLink","routerDirection"],["name","chevron-back"],[4,"ngIf","ngIfElse"],["done",""],[4,"ngIf"],["finished",""],[1,"session-info"],[1,"question"],[3,"text"],[4,"ngFor","ngForOf"],[3,"ngClass"],[3,"click"],[1,"finished"],[1,"icon"],["color","success","name","checkmark-circle"],[3,"routerLink"],[3,"click",4,"ngIf"]],template:function(o,e){if(1&o&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),n._UZ(4,"ion-icon",2),n.qZA()()()(),n.YNc(5,A,3,3,"ng-container",3),n.ALo(6,"async"),n.YNc(7,I,9,1,"ng-template",null,4,n.W1O)),2&o){const i=n.MAs(8);n.xp6(3),n.Q6J("routerLink",n.DdM(6,y))("routerDirection","back"),n.xp6(2),n.Q6J("ngIf",n.lcZ(6,4,e.session$))("ngIfElse",i)}},dependencies:[l.ez,l.mk,l.sg,l.O5,l.Ov,_.W8,d.Bz,d.rH,r.Pc,r.YG,r.Sm,r.PM,r.FN,r.W2,r.fr,r.Gu,r.gu,r.sr,r.YI,C.s],styles:["ion-footer[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{justify-content:space-evenly}ion-card[_ngcontent-%COMP%]{transition:all .4s;max-height:90%}ion-card.hidden[_ngcontent-%COMP%]{transition:none;overflow:scroll;max-height:0px}ion-card.question[_ngcontent-%COMP%]{text-align:center}ion-card.question[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:first-child{margin-bottom:20px}.finished[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-evenly;flex-direction:column;align-items:center;--padding-start: 20%;--padding-end: 20%}.finished[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.finished[_ngcontent-%COMP%]   div.icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:100px;height:100px}ion-footer[_ngcontent-%COMP%]{padding-bottom:50px}.session-info[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:var(--ion-color-medium)}"]})}}]);