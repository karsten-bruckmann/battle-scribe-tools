"use strict";(self.webpackChunkbattle_cards=self.webpackChunkbattle_cards||[]).push([[4539],{4539:(k,h,e)=>{e.r(h),e.d(h,{PagesPrintRosterComponent:()=>r});var v=e(9671),p=e(6895),m=e(4258),d=e(7243),C=e(3761),u=e(391),f=e(8076),O=e(9287),b=e(3438),s=e(603),g=e(3900),x=e(9841),M=e(4004),y=e(3905),t=e(4650),Z=e(9653);function _(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"td",13),t._UZ(2,"bst-translatable",10),t.qZA(),t.TgZ(3,"td",14),t._UZ(4,"bst-translatable",10),t.qZA()()),2&a){const n=o.$implicit;t.xp6(2),t.Q6J("text",n.title),t.xp6(2),t.Q6J("text",n.description)}}function R(a,o){1&a&&t._UZ(0,"bst-unit-card",15),2&a&&t.Q6J("unit",o.$implicit)}function T(a,o){if(1&a&&(t.TgZ(0,"div",9)(1,"h2"),t._UZ(2,"bst-translatable",10),t.qZA(),t.TgZ(3,"h3"),t._UZ(4,"bst-translatable",10),t.qZA(),t.TgZ(5,"table"),t.YNc(6,_,5,2,"tr",11),t.qZA(),t.YNc(7,R,1,1,"bst-unit-card",12),t.qZA()),2&a){const n=o.$implicit;t.xp6(2),t.Q6J("text",n.title),t.xp6(2),t.Q6J("text","Detachment Rules"),t.xp6(2),t.Q6J("ngForOf",n.rules),t.xp6(1),t.Q6J("ngForOf",n.units)}}function z(a,o){if(1&a&&(t.ynx(0),t.TgZ(1,"h1"),t._UZ(2,"bst-translatable",7),t.qZA(),t.YNc(3,T,8,4,"div",8),t.BQk()),2&a){const n=o.ngIf;t.xp6(2),t.Q6J("text",n.title)("translateOnClick",!1),t.xp6(1),t.Q6J("ngForOf",n.detachments)}}class r{constructor(o,n){this.store$=o,this.activatedRoute=n,this.roster$=(0,O.j)("roster-id",this.activatedRoute).pipe((0,g.w)(i=>this.store$.select((0,C.bQ)(i)))),this.detachment$=(0,b.L)(["roster-id","detachment-index"],this.activatedRoute).pipe((0,g.w)(([i,l])=>this.store$.select((0,d.mb)(i,parseInt(l))))),this.unit$=(0,b.L)(["roster-id","detachment-index","unit-index"],this.activatedRoute).pipe((0,g.w)(([i,l,c])=>this.store$.select((0,d.sl)(i,parseInt(l),parseInt(c))))),this.detachmentRules$=(0,x.a)([this.detachment$,this.unit$]).pipe((0,M.U)(([i,l])=>i?.rules.filter(c=>void 0===l?.rules.find(P=>P.title===c.title&&P.description===c.description))||[]))}ngAfterViewInit(){var o=this;return(0,v.Z)(function*(){o.unitCards&&(yield(0,y.z)((0,x.a)(o.unitCards.map(n=>n.avatarLoaded))))})()}back(){history.back()}print(){window.print()}}r.\u0275fac=function(o){return new(o||r)(t.Y36(Z.yh),t.Y36(m.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["ng-component"]],viewQuery:function(o,n){if(1&o&&t.Gf(f.l,5),2&o){let i;t.iGM(i=t.CRH())&&(n.unitCards=i)}},standalone:!0,features:[t._Bn([{provide:u.Y,useValue:!0}]),t.jDz],decls:11,vars:3,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline"],["slot","end"],["name","print"],["padding",""],[4,"ngIf"],[3,"text","translateOnClick"],["class","detachment",4,"ngFor","ngForOf"],[1,"detachment"],[3,"text"],[4,"ngFor","ngForOf"],[3,"unit",4,"ngFor","ngForOf"],[1,"wrap"],[1,"wrap","long"],[3,"unit"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),t.NdJ("click",function(){return n.back()}),t._UZ(4,"ion-icon",2),t.qZA()(),t.TgZ(5,"ion-buttons",3)(6,"ion-button",1),t.NdJ("click",function(){return n.print()}),t._UZ(7,"ion-icon",4),t.qZA()()()(),t.TgZ(8,"ion-content",5),t.YNc(9,z,4,3,"ng-container",6),t.ALo(10,"async"),t.qZA()),2&o&&(t.xp6(9),t.Q6J("ngIf",t.lcZ(10,1,n.roster$)))},dependencies:[p.ez,p.sg,p.O5,p.Ov,m.Bz,s.Pc,s.YG,s.Sm,s.W2,s.Gu,s.gu,s.sr,u.s,f.l,d.Gx],styles:['[_nghost-%COMP%]{display:block}@media screen{[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{width:calc(100% - 160px);height:calc(100% - 200px);border:1px solid var(--ion-color-medium);top:80px;left:80px;padding:30px;display:block!important;zoom:.5}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:30px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:30px}}@media print{[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-header[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]     h1{margin-top:50vh;font-variant:small-caps;text-align:center;font-size:50px}[_nghost-%COMP%]     h2{text-align:center;margin-bottom:30px;font-variant:small-caps;font-size:40px}[_nghost-%COMP%]     h3{margin-bottom:30px;font-variant:small-caps;font-size:30px}[_nghost-%COMP%]     h4{margin-bottom:30px;font-variant:small-caps;font-size:20px}[_nghost-%COMP%]     ion-text{clear:both;display:block}[_nghost-%COMP%]     .detachment{page-break-before:always;clear:both}@media screen{[_nghost-%COMP%]     .detachment{position:relative;padding-top:60px;margin-top:120px;border-top:2px dashed var(--ion-color-medium)}[_nghost-%COMP%]     .detachment:after{content:"next page";position:absolute;left:50%;transform:translate(-50%);display:block;padding:0 10px;background:white;color:var(--ion-color-medium);font-size:30px;line-height:30px;font-variant:normal;font-family:var(--ion-font-family);top:-19px}}[_nghost-%COMP%]     bst-unit-card{page-break-before:always;clear:both}@media screen{[_nghost-%COMP%]     bst-unit-card{position:relative;padding-top:60px;margin-top:120px;border-top:2px dashed var(--ion-color-medium)}[_nghost-%COMP%]     bst-unit-card:after{content:"next page";position:absolute;left:50%;transform:translate(-50%);display:block;padding:0 10px;background:white;color:var(--ion-color-medium);font-size:30px;line-height:30px;font-variant:normal;font-family:var(--ion-font-family);top:-19px}}[_nghost-%COMP%]     bst-unit-card .unit-info{page-break-inside:avoid;display:block;height:100px;padding-right:100px;overflow:visible}[_nghost-%COMP%]     bst-unit-card .unit-info bst-avatar{position:absolute;top:0;right:-100px;height:100px}[_nghost-%COMP%]     bst-unit-card .unit-info bst-avatar input{display:none}[_nghost-%COMP%]     bst-unit-card .unit-info bst-avatar ion-icon{display:none}[_nghost-%COMP%]     bst-unit-card unit-info, [_nghost-%COMP%]     bst-unit-card .profile, [_nghost-%COMP%]     bst-unit-card .weapons, [_nghost-%COMP%]     bst-unit-card .rules{position:relative;display:block;page-break-inside:avoid}[_nghost-%COMP%]     bst-unit-card .separated{background:none;border-top:none;font-size:20px;color:var(--ion-color-dark);margin-top:10px}[_nghost-%COMP%]     .profile-and-weapons{display:flex;justify-content:space-between}[_nghost-%COMP%]     .profile-and-weapons .scroller{max-width:60%;flex:auto 1 1}[_nghost-%COMP%]     .scroller{margin:0;padding:0;overflow:visible}[_nghost-%COMP%]     table{font-size:12px;border-spacing:0;border-collapse:collapse;margin:10px!important;width:calc(100% - 20px)!important;width:100%}[_nghost-%COMP%]     table td, [_nghost-%COMP%]     table th{vertical-align:top;border:1px solid rgb(239,239,239);border-collapse:collapse;padding:3px 5px;font-size:14px;margin:0;white-space:normal!important}[_nghost-%COMP%]     table td span, [_nghost-%COMP%]     table th span{white-space:normal!important}']})}}]);