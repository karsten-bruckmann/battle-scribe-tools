"use strict";(self.webpackChunkbattle_cards=self.webpackChunkbattle_cards||[]).push([[205],{8967:(O,b,s)=>{s.d(b,{s:()=>T});var p=s(6895),h=s(3573),l=s(603),u=s(1135),c=s(9841),C=s(4004),x=s(4782),t=s(4650),M=s(1481);function n(_,r){if(1&_&&t._UZ(0,"span",4),2&_){const o=t.oxw().ngIf,g=t.oxw();t.Q6J("innerHTML",g.listify(o),t.oJD)}}function A(_,r){if(1&_){const o=t.EpF();t.TgZ(0,"span",5),t.NdJ("click",function(){t.CHM(o),t.oxw();const d=t.MAs(8),Z=t.oxw();return t.KtG(Z.translateOnClick&&d.present())}),t.qZA()}if(2&_){const o=t.oxw().ngIf,g=t.oxw();t.Q6J("innerHTML",g.listify(o),t.oJD)}}function y(_,r){if(1&_){const o=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",6)(3,"ion-button",7),t.NdJ("click",function(){t.CHM(o),t.oxw();const d=t.MAs(8);return t.KtG(d.dismiss())}),t._uU(4,"abbrechen"),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"\xdcbersetzen"),t.qZA(),t.TgZ(7,"ion-buttons",8)(8,"ion-button",9),t.NdJ("click",function(){t.CHM(o);const d=t.MAs(15);t.oxw();const Z=t.MAs(8),f=t.oxw();return f.translate(f.original,d.value),t.KtG(Z.dismiss())}),t._uU(9,"OK"),t.qZA()()()(),t.TgZ(10,"ion-content",10)(11,"ion-item",11),t._uU(12),t.qZA(),t.TgZ(13,"ion-item",11),t._UZ(14,"ion-textarea",12,13),t.qZA()()}if(2&_){const o=t.oxw().ngIf,g=t.oxw();t.xp6(8),t.Q6J("strong",!0),t.xp6(4),t.hij(" ",g.original,""),t.xp6(2),t.Q6J("autoGrow",!0)("value",o)}}function L(_,r){if(1&_&&(t.ynx(0),t.YNc(1,n,1,1,"span",1),t.ALo(2,"async"),t.ALo(3,"async"),t.YNc(4,A,1,1,"span",2),t.ALo(5,"async"),t.ALo(6,"async"),t.TgZ(7,"ion-modal",null,3),t.YNc(9,y,16,4,"ng-template"),t.qZA(),t.BQk()),2&_){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,o.editable$)||!1===t.lcZ(3,4,o.editable$)),t.xp6(3),t.Q6J("ngIf",!0===t.lcZ(5,6,o.editable$)&&!0===t.lcZ(6,8,o.editable$))}}class T{constructor(r,o){this.translationService=r,this.domSanitizer=o,this.translateOnClick=!0,this.original="",this.hasTextChars$=new u.X(!1),this.editable$=(0,c.a)([this.translationService.translationsEditMode$,this.translationService.translatable$,this.hasTextChars$]).pipe((0,C.U)(([g,d,Z])=>g&&d&&Z))}set text(r){this.original=r,this.hasTextChars$.next(!!r.match("[a-zA-Z]+"))}ngOnChanges(r){const o=r.text;o&&(this.translation$=this.translationService.getTranslation(o.currentValue).pipe((0,x.d)(1)))}translate(r,o){this.translationService.translate(r,o||"")}listify(r){let o=r;return[...r.matchAll(/(?:(?:^|\n)(?:- [^\n]+(?:\n|$)*)+)/gm)].forEach(g=>{o=o.replace(g[0],`<ul>${g[0].replaceAll(/(?:^|\n)- (.*)(?:\n|$)/gm,"<li>$1</li>")}</ul>`)}),this.domSanitizer.bypassSecurityTrustHtml(o)}}T.\u0275fac=function(r){return new(r||T)(t.Y36(h.fA),t.Y36(M.H7))},T.\u0275cmp=t.Xpm({type:T,selectors:[["bst-translatable"]],inputs:{text:"text",translateOnClick:"translateOnClick"},standalone:!0,features:[t.TTD,t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML","click",4,"ngIf"],["popover",""],[3,"innerHTML"],[3,"innerHTML","click"],["slot","start"],[3,"click"],["slot","end"],[3,"strong","click"],[1,"ion-padding"],["lines","none"],[3,"autoGrow","value"],["ta",""]],template:function(r,o){1&r&&(t.YNc(0,L,10,10,"ng-container",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,o.translation$))},dependencies:[p.ez,p.O5,p.Ov,l.Pc,l.YG,l.Sm,l.W2,l.Gu,l.Ie,l.g2,l.wd,l.sr,l.ki,l.j9],styles:["[_nghost-%COMP%]{display:inline-block}span[_ngcontent-%COMP%]{white-space:pre-wrap}ion-item[_ngcontent-%COMP%]{white-space:pre-wrap}ion-textarea[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border:1px solid var(--ion-color-medium);color:1px solid var(--ion-color-dark);font-family:monospace}"]})},205:(O,b,s)=>{s.r(b),s.d(b,{FlashCardLessonComponent:()=>f});var p=s(6895),h=s(1545),l=s(1773),u=s(8967),c=s(603),C=s(4004),x=s(9300),t=s(3900),M=s(4782),n=s(4650);function A(a,i){if(1&a&&(n.ynx(0),n.TgZ(1,"ion-title")(2,"h1"),n._uU(3),n.qZA()(),n.TgZ(4,"span",4),n._uU(5),n.qZA(),n.BQk()),2&a){const e=i.ngIf;n.xp6(3),n.Oqu(e.deckName),n.xp6(2),n.lnq(" Box ",e.box+1,"/",e.maxBox+1," | Noch ",e.remainingCards," Karten ")}}function y(a,i){if(1&a&&(n.TgZ(0,"h1"),n._UZ(1,"bst-translatable",8),n.qZA()),2&a){const e=i.$implicit;n.xp6(1),n.Q6J("text",e)}}function L(a,i){if(1&a&&(n.TgZ(0,"h2"),n._UZ(1,"bst-translatable",8),n.qZA()),2&a){const e=i.$implicit;n.xp6(1),n.Q6J("text",e||"")}}function T(a,i){if(1&a){const e=n.EpF();n.TgZ(0,"ion-buttons")(1,"ion-button",11),n.NdJ("click",function(){n.CHM(e);const m=n.oxw(2).ngIf;return n.KtG(m.showAnswer())}),n._uU(2," L\xf6sung "),n.qZA(),n.TgZ(3,"ion-button",11),n.NdJ("click",function(){n.CHM(e);const m=n.oxw(2).ngIf;return n.KtG(m.skip())}),n._uU(4," \xdcberspringen "),n.qZA()()}}function _(a,i){if(1&a){const e=n.EpF();n.TgZ(0,"ion-buttons")(1,"ion-button",11),n.NdJ("click",function(){n.CHM(e);const m=n.oxw(2).ngIf;return n.KtG(m.markIncorrect())}),n._uU(2," wusste ich nicht "),n.qZA(),n.TgZ(3,"ion-button",11),n.NdJ("click",function(){n.CHM(e);const m=n.oxw(2).ngIf;return n.KtG(m.markCorrect())}),n._uU(4," wusste ich "),n.qZA()()}}const r=function(a){return{hidden:a}};function o(a,i){if(1&a&&(n.ynx(0),n.TgZ(1,"ion-content")(2,"ion-card",7)(3,"ion-card-content")(4,"h1"),n._UZ(5,"bst-translatable",8),n._uU(6,":"),n.qZA(),n.YNc(7,y,2,1,"h1",9),n.qZA()(),n.TgZ(8,"ion-card",10)(9,"ion-card-content"),n.YNc(10,L,2,1,"h2",9),n.qZA()()(),n.TgZ(11,"ion-footer")(12,"ion-toolbar"),n.YNc(13,T,5,0,"ion-buttons",3),n.YNc(14,_,5,0,"ion-buttons",3),n.qZA()(),n.BQk()),2&a){const e=i.ngIf;n.xp6(5),n.Q6J("text",e.question),n.xp6(2),n.Q6J("ngForOf",e.rules),n.xp6(1),n.Q6J("ngClass",n.VKq(6,r,!e.answers)),n.xp6(2),n.Q6J("ngForOf",e.answers),n.xp6(3),n.Q6J("ngIf",!e.answers),n.xp6(1),n.Q6J("ngIf",e.answers)}}function g(a,i){if(1&a){const e=n.EpF();n.TgZ(0,"ion-content")(1,"div",12)(2,"div",13),n._UZ(3,"ion-icon",14),n.qZA(),n.TgZ(4,"div")(5,"ion-button",1),n._uU(6,"zur\xfcck"),n.qZA(),n.TgZ(7,"ion-button",11),n.NdJ("click",function(){n.CHM(e);const m=n.oxw(2);return n.KtG(m.restart())}),n._uU(8,"weiter"),n.qZA()()()()}2&a&&(n.xp6(5),n.Q6J("routerLink","../../"))}function d(a,i){if(1&a&&(n.ynx(0),n.YNc(1,o,15,8,"ng-container",5),n.YNc(2,g,9,1,"ng-template",null,6,n.W1O),n.BQk()),2&a){const e=i.ngIf,v=n.MAs(3);n.xp6(1),n.Q6J("ngIf",e.currentCard)("ngIfElse",v)}}const Z=function(){return["/"]};class f{constructor(i,e){this.learningService=i,this.activatedRoute=e,this.session$=this.initSession()}restart(){this.session$=this.initSession()}initSession(){return this.activatedRoute.paramMap.pipe((0,C.U)(i=>i.get("lesson-index")),(0,x.h)(i=>null!==i),(0,C.U)(i=>parseInt(i)),(0,t.w)(i=>this.learningService.getSession(i)),(0,M.d)({refCount:!0,bufferSize:1}))}}f.\u0275fac=function(i){return new(i||f)(n.Y36(l.HC),n.Y36(h.gz))},f.\u0275cmp=n.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[n.jDz],decls:9,vars:8,consts:[["slot","start"],[3,"routerLink"],["name","chevron-back"],[4,"ngIf"],["slot","end"],[4,"ngIf","ngIfElse"],["finished",""],[1,"question"],[3,"text"],[4,"ngFor","ngForOf"],[3,"ngClass"],[3,"click"],[1,"finished"],[1,"icon"],["color","success","name","checkmark-circle"]],template:function(i,e){1&i&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),n._UZ(4,"ion-icon",2),n.qZA()(),n.YNc(5,A,6,4,"ng-container",3),n.ALo(6,"async"),n.qZA()(),n.YNc(7,d,4,2,"ng-container",3),n.ALo(8,"async")),2&i&&(n.xp6(3),n.Q6J("routerLink",n.DdM(7,Z)),n.xp6(2),n.Q6J("ngIf",n.lcZ(6,3,e.session$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(8,5,e.session$)))},dependencies:[p.ez,p.mk,p.sg,p.O5,p.Ov,l.W8,h.Bz,h.rH,c.Pc,c.YG,c.Sm,c.PM,c.FN,c.W2,c.fr,c.Gu,c.gu,c.wd,c.sr,c.YI,u.s],styles:["ion-footer[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{justify-content:space-evenly}ion-card[_ngcontent-%COMP%]{transition:all .3s;max-height:90%}ion-card.hidden[_ngcontent-%COMP%]{transition:none;overflow:scroll;max-height:0px}ion-card.question[_ngcontent-%COMP%]{text-align:center}ion-card.question[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:first-child{margin-bottom:20px}.finished[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-evenly;flex-direction:column;align-items:center;--padding-start: 20%;--padding-end: 20%}.finished[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.finished[_ngcontent-%COMP%]   div.icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:100px;height:100px}ion-footer[_ngcontent-%COMP%]{padding-bottom:50px}"]})},4782:(O,b,s)=>{s.d(b,{d:()=>l});var p=s(4707),h=s(3099);function l(u,c,C){let x,t=!1;return u&&"object"==typeof u?({bufferSize:x=1/0,windowTime:c=1/0,refCount:t=!1,scheduler:C}=u):x=u??1/0,(0,h.B)({connector:()=>new p.t(x,c,C),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:t})}}}]);