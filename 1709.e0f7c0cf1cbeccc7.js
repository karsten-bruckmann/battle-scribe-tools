"use strict";(self.webpackChunkbattle_cards=self.webpackChunkbattle_cards||[]).push([[1709],{2034:(F,S,c)=>{c.d(S,{Mf:()=>y,wB:()=>b,GJ:()=>f,oh:()=>h,Wm:()=>d,h:()=>l,u3:()=>A,I_:()=>m});var o=c(9653);const b=(0,o.PH)("data-access/flash-cards/deck-added",(0,o.Ky)()),f=(0,o.PH)("data-access/flash-cards/deck-deleted",(0,o.Ky)()),m=(0,o.PH)("data-access/flash-cards/moved-to-box",(0,o.Ky)()),l=(0,c(8715).U)();var x=c(6166),_=c(1588);const A=(0,o.Lq)({},(0,o.on)(b,(g,u)=>({...g,[(0,_.Z)()]:u.deck})),(0,o.on)(m,(g,u)=>{const i={...g};return i[u.deckId]={...g[u.deckId]},i[u.deckId].cards={...g[u.deckId].cards},i[u.deckId].cards[u.cardId]={...i[u.deckId].cards[u.cardId],box:u.box},i}),(0,o.on)(f,(g,u)=>{const i={...g};return delete i[u.id],i}));var v=c(4650);class y{}y.\u0275fac=function(u){return new(u||y)},y.\u0275mod=v.oAB({type:y}),y.\u0275inj=v.cJS({imports:[o.Aw.forFeature("flash-cards",A,{metaReducers:[(0,x.Wi)("flash-cards/v2",{storage:localStorage}),l.metaReducer]})]});const d=(0,o.ZF)("flash-cards"),h=g=>(0,o.P1)(d,u=>u[g]||null)},2639:(F,S,c)=>{c.d(S,{zk:()=>y,qX:()=>b,yD:()=>f,mb:()=>g,z5:()=>m,bQ:()=>h,cE:()=>_,O3:()=>l,bA:()=>d,sl:()=>u});var o=c(9653);const b=(0,o.PH)("data-access/rosters/add",(0,o.Ky)()),f=(0,o.PH)("data-access/rosters/delete",(0,o.Ky)()),m=(0,o.PH)("data-access/rosters/overwrite",(0,o.Ky)());var p=c(1588);const l=(0,o.Lq)({},(0,o.on)(b,(i,n)=>{const a={...i};return a[(0,p.Z)()]=n.roster,a}),(0,o.on)(m,(i,n)=>{const a={...i};return a[n.id]=n.roster,a}),(0,o.on)(f,(i,n)=>{const a={...i};return delete a[n.id],a})),_=(0,c(8715).U)();var A=c(6166),v=c(4650);class y{}y.\u0275fac=function(n){return new(n||y)},y.\u0275mod=v.oAB({type:y}),y.\u0275inj=v.cJS({imports:[o.Aw.forFeature("rosters",l,{metaReducers:[(0,A.Wi)("rosters/v2",{storage:localStorage}),_.metaReducer]})]});const d=(0,o.ZF)("rosters"),h=i=>(0,o.P1)(d,n=>n[i]||null),g=(i,n)=>(0,o.P1)(h(i),a=>a?.detachments[n]||null),u=(i,n,a)=>(0,o.P1)(h(i),t=>t&&t.detachments[n]?.units[a]||null)},3573:(F,S,c)=>{c.d(S,{fA:()=>u});class o{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(n,a=!1){return this.onePassHasher.start().appendStr(n).end(a)}static hashAsciiStr(n,a=!1){return this.onePassHasher.start().appendAsciiStr(n).end(a)}static _hex(n){const a=o.hexChars,t=o.hexOut;let e,s,r,I;for(I=0;I<4;I+=1)for(s=8*I,e=n[I],r=0;r<8;r+=2)t[s+1+r]=a.charAt(15&e),e>>>=4,t[s+0+r]=a.charAt(15&e),e>>>=4;return t.join("")}static _md5cycle(n,a){let t=n[0],e=n[1],s=n[2],r=n[3];t+=(e&s|~e&r)+a[0]-680876936|0,t=(t<<7|t>>>25)+e|0,r+=(t&e|~t&s)+a[1]-389564586|0,r=(r<<12|r>>>20)+t|0,s+=(r&t|~r&e)+a[2]+606105819|0,s=(s<<17|s>>>15)+r|0,e+=(s&r|~s&t)+a[3]-1044525330|0,e=(e<<22|e>>>10)+s|0,t+=(e&s|~e&r)+a[4]-176418897|0,t=(t<<7|t>>>25)+e|0,r+=(t&e|~t&s)+a[5]+1200080426|0,r=(r<<12|r>>>20)+t|0,s+=(r&t|~r&e)+a[6]-1473231341|0,s=(s<<17|s>>>15)+r|0,e+=(s&r|~s&t)+a[7]-45705983|0,e=(e<<22|e>>>10)+s|0,t+=(e&s|~e&r)+a[8]+1770035416|0,t=(t<<7|t>>>25)+e|0,r+=(t&e|~t&s)+a[9]-1958414417|0,r=(r<<12|r>>>20)+t|0,s+=(r&t|~r&e)+a[10]-42063|0,s=(s<<17|s>>>15)+r|0,e+=(s&r|~s&t)+a[11]-1990404162|0,e=(e<<22|e>>>10)+s|0,t+=(e&s|~e&r)+a[12]+1804603682|0,t=(t<<7|t>>>25)+e|0,r+=(t&e|~t&s)+a[13]-40341101|0,r=(r<<12|r>>>20)+t|0,s+=(r&t|~r&e)+a[14]-1502002290|0,s=(s<<17|s>>>15)+r|0,e+=(s&r|~s&t)+a[15]+1236535329|0,e=(e<<22|e>>>10)+s|0,t+=(e&r|s&~r)+a[1]-165796510|0,t=(t<<5|t>>>27)+e|0,r+=(t&s|e&~s)+a[6]-1069501632|0,r=(r<<9|r>>>23)+t|0,s+=(r&e|t&~e)+a[11]+643717713|0,s=(s<<14|s>>>18)+r|0,e+=(s&t|r&~t)+a[0]-373897302|0,e=(e<<20|e>>>12)+s|0,t+=(e&r|s&~r)+a[5]-701558691|0,t=(t<<5|t>>>27)+e|0,r+=(t&s|e&~s)+a[10]+38016083|0,r=(r<<9|r>>>23)+t|0,s+=(r&e|t&~e)+a[15]-660478335|0,s=(s<<14|s>>>18)+r|0,e+=(s&t|r&~t)+a[4]-405537848|0,e=(e<<20|e>>>12)+s|0,t+=(e&r|s&~r)+a[9]+568446438|0,t=(t<<5|t>>>27)+e|0,r+=(t&s|e&~s)+a[14]-1019803690|0,r=(r<<9|r>>>23)+t|0,s+=(r&e|t&~e)+a[3]-187363961|0,s=(s<<14|s>>>18)+r|0,e+=(s&t|r&~t)+a[8]+1163531501|0,e=(e<<20|e>>>12)+s|0,t+=(e&r|s&~r)+a[13]-1444681467|0,t=(t<<5|t>>>27)+e|0,r+=(t&s|e&~s)+a[2]-51403784|0,r=(r<<9|r>>>23)+t|0,s+=(r&e|t&~e)+a[7]+1735328473|0,s=(s<<14|s>>>18)+r|0,e+=(s&t|r&~t)+a[12]-1926607734|0,e=(e<<20|e>>>12)+s|0,t+=(e^s^r)+a[5]-378558|0,t=(t<<4|t>>>28)+e|0,r+=(t^e^s)+a[8]-2022574463|0,r=(r<<11|r>>>21)+t|0,s+=(r^t^e)+a[11]+1839030562|0,s=(s<<16|s>>>16)+r|0,e+=(s^r^t)+a[14]-35309556|0,e=(e<<23|e>>>9)+s|0,t+=(e^s^r)+a[1]-1530992060|0,t=(t<<4|t>>>28)+e|0,r+=(t^e^s)+a[4]+1272893353|0,r=(r<<11|r>>>21)+t|0,s+=(r^t^e)+a[7]-155497632|0,s=(s<<16|s>>>16)+r|0,e+=(s^r^t)+a[10]-1094730640|0,e=(e<<23|e>>>9)+s|0,t+=(e^s^r)+a[13]+681279174|0,t=(t<<4|t>>>28)+e|0,r+=(t^e^s)+a[0]-358537222|0,r=(r<<11|r>>>21)+t|0,s+=(r^t^e)+a[3]-722521979|0,s=(s<<16|s>>>16)+r|0,e+=(s^r^t)+a[6]+76029189|0,e=(e<<23|e>>>9)+s|0,t+=(e^s^r)+a[9]-640364487|0,t=(t<<4|t>>>28)+e|0,r+=(t^e^s)+a[12]-421815835|0,r=(r<<11|r>>>21)+t|0,s+=(r^t^e)+a[15]+530742520|0,s=(s<<16|s>>>16)+r|0,e+=(s^r^t)+a[2]-995338651|0,e=(e<<23|e>>>9)+s|0,t+=(s^(e|~r))+a[0]-198630844|0,t=(t<<6|t>>>26)+e|0,r+=(e^(t|~s))+a[7]+1126891415|0,r=(r<<10|r>>>22)+t|0,s+=(t^(r|~e))+a[14]-1416354905|0,s=(s<<15|s>>>17)+r|0,e+=(r^(s|~t))+a[5]-57434055|0,e=(e<<21|e>>>11)+s|0,t+=(s^(e|~r))+a[12]+1700485571|0,t=(t<<6|t>>>26)+e|0,r+=(e^(t|~s))+a[3]-1894986606|0,r=(r<<10|r>>>22)+t|0,s+=(t^(r|~e))+a[10]-1051523|0,s=(s<<15|s>>>17)+r|0,e+=(r^(s|~t))+a[1]-2054922799|0,e=(e<<21|e>>>11)+s|0,t+=(s^(e|~r))+a[8]+1873313359|0,t=(t<<6|t>>>26)+e|0,r+=(e^(t|~s))+a[15]-30611744|0,r=(r<<10|r>>>22)+t|0,s+=(t^(r|~e))+a[6]-1560198380|0,s=(s<<15|s>>>17)+r|0,e+=(r^(s|~t))+a[13]+1309151649|0,e=(e<<21|e>>>11)+s|0,t+=(s^(e|~r))+a[4]-145523070|0,t=(t<<6|t>>>26)+e|0,r+=(e^(t|~s))+a[11]-1120210379|0,r=(r<<10|r>>>22)+t|0,s+=(t^(r|~e))+a[2]+718787259|0,s=(s<<15|s>>>17)+r|0,e+=(r^(s|~t))+a[9]-343485551|0,e=(e<<21|e>>>11)+s|0,n[0]=t+n[0]|0,n[1]=e+n[1]|0,n[2]=s+n[2]|0,n[3]=r+n[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(o.stateIdentity),this}appendStr(n){const a=this._buffer8,t=this._buffer32;let s,r,e=this._bufferLength;for(r=0;r<n.length;r+=1){if(s=n.charCodeAt(r),s<128)a[e++]=s;else if(s<2048)a[e++]=192+(s>>>6),a[e++]=63&s|128;else if(s<55296||s>56319)a[e++]=224+(s>>>12),a[e++]=s>>>6&63|128,a[e++]=63&s|128;else{if(s=1024*(s-55296)+(n.charCodeAt(++r)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");a[e++]=240+(s>>>18),a[e++]=s>>>12&63|128,a[e++]=s>>>6&63|128,a[e++]=63&s|128}e>=64&&(this._dataLength+=64,o._md5cycle(this._state,t),e-=64,t[0]=t[16])}return this._bufferLength=e,this}appendAsciiStr(n){const a=this._buffer8,t=this._buffer32;let s,e=this._bufferLength,r=0;for(;;){for(s=Math.min(n.length-r,64-e);s--;)a[e++]=n.charCodeAt(r++);if(e<64)break;this._dataLength+=64,o._md5cycle(this._state,t),e=0}return this._bufferLength=e,this}appendByteArray(n){const a=this._buffer8,t=this._buffer32;let s,e=this._bufferLength,r=0;for(;;){for(s=Math.min(n.length-r,64-e);s--;)a[e++]=n[r++];if(e<64)break;this._dataLength+=64,o._md5cycle(this._state,t),e=0}return this._bufferLength=e,this}getState(){const n=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[n[0],n[1],n[2],n[3]]}}setState(n){const a=n.buffer,t=n.state,e=this._state;let s;for(this._dataLength=n.length,this._bufferLength=n.buflen,e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],s=0;s<a.length;s+=1)this._buffer8[s]=a.charCodeAt(s)}end(n=!1){const a=this._bufferLength,t=this._buffer8,e=this._buffer32,s=1+(a>>2);this._dataLength+=a;const r=8*this._dataLength;if(t[a]=128,t[a+1]=t[a+2]=t[a+3]=0,e.set(o.buffer32Identity.subarray(s),s),a>55&&(o._md5cycle(this._state,e),e.set(o.buffer32Identity)),r<=4294967295)e[14]=r;else{const I=r.toString(16).match(/(.*?)(.{0,8})$/);if(null===I)return;const L=parseInt(I[2],16),w=parseInt(I[1],16)||0;e[14]=L,e[15]=w}return o._md5cycle(this._state,e),n?this._state:o._hex(this._state)}}if(o.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),o.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o.hexChars="0123456789abcdef",o.hexOut=[],o.onePassHasher=new o,"5d41402abc4b2a76b9719d911017c592"!==o.hashStr("hello"))throw new Error("Md5 self test failed.");const f="translations-v2-";var l=c(9671),x=c(7579),_=c(1135),A=c(4004),v=c(3900),y=c(8675),d=c(9300),h=c(3905),g=c(4650);class u{constructor(){this.languageStorageKey="language-v2",this._updatedTexts$=new x.x,this.updatedTexts$=this._updatedTexts$.asObservable(),this.languages={en:{flag:"\u{1f1ec}\u{1f1e7}",name:"English"},de:{flag:"\u{1f1e9}\u{1f1ea}",name:"Deutsch"},fr:{flag:"\u{1f1eb}\u{1f1f7}",name:"Fran\xe7ais"},es:{flag:"\u{1f1ea}\u{1f1f8}",name:"Espa\xf1ol"}},this.selectedLanguage$=new _.X(localStorage.getItem(this.languageStorageKey)||"de"),this.translatable$=this.selectedLanguage$.pipe((0,A.U)(n=>"en"!==n)),this._translationsEditMode$=new _.X(!!localStorage.getItem("translationsEditMode"))}setLanguage(n){localStorage.setItem(this.languageStorageKey,n),this.selectedLanguage$.next(n)}getTranslation(n){const a=o.hashStr(n);return this.selectedLanguage$.pipe((0,v.w)(t=>this.updatedTexts$.pipe((0,y.O)(a),(0,d.h)(e=>e===a),(0,A.U)(()=>((i,n)=>{if(!i)return"";const a=o.hashStr(i);return localStorage.getItem(`${f}${n}-${a}`)||i})(n,t)))))}translate(n,a,t){var e=this;return(0,l.Z)(function*(){const s=t||(yield(0,h.z)(e.selectedLanguage$)),r=((i,n,a)=>{const t=o.hashStr(i);return n&&i!==n?(localStorage.setItem(`${f}${a}-${t}`,n),t):(localStorage.removeItem(`${f}${a}-${t}`),t)})(n,a,s);e._updatedTexts$.next(r)})()}export(){const n=this.getAllTranslations(),a=document.createElement("a"),t=JSON.stringify(n),e=new Blob([t],{type:"octet/stream"}),s=window.URL.createObjectURL(e);a.href=s,a.download="translations.json",a.click(),window.URL.revokeObjectURL(s)}import(n){var a=this;return(0,l.Z)(function*(){const t=yield n.text(),e=JSON.parse(t);Object.entries(e).forEach(([s,r])=>{const I=s.match(/[0-9a-f]{32}$/)?.[0];I&&(localStorage.setItem(s,r),a._updatedTexts$.next(I))})})()}getAllTranslations(){const n={};for(let a=0;a<localStorage.length;a++){const t=localStorage.key(a);t&&t.match(new RegExp(`^${f}(en|de|fr|es)-[0-9a-f]{32}`))&&(n[t]=localStorage.getItem(t)||"")}return n}get translationsEditMode$(){return this._translationsEditMode$.asObservable()}setTranslationsEditMode(n){this._translationsEditMode$.next(n),n?localStorage.setItem("translationsEditMode","enabled"):localStorage.removeItem("translationsEditMode")}}u.\u0275fac=function(n){return new(n||u)},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})},6166:(F,S,c)=>{c.d(S,{Wi:()=>f});const f=(m,p)=>((m,p,l)=>x=>(_,A)=>{const v={...m,...l};let y=_;void 0===y&&(y=v.parse(v.storage.getItem(p)));const d=x(y,A);return v.storage.setItem(p,v.serialize(d)),d})({storage:sessionStorage,serialize:m=>JSON.stringify(m),parse:m=>{if(m)try{return JSON.parse(m)}catch{return}}},m,p)},8715:(F,S,c)=>{c.d(S,{U:()=>o});const o=()=>{const b={};return{add:(p,l)=>{b[l]=p},metaReducer:p=>(l,x)=>{let _=p(l,x);return Object.values(b).forEach(A=>{_=A(_,x)}),_}}}},1684:(F,S,c)=>{c.d(S,{e:()=>b});var o=c(9653);const b=(...f)=>(0,o.Lq)(void 0,...f)},9796:(F,S,c)=>{c.d(S,{j:()=>o});const o=b=>Object.keys(b).map(f=>({...b[f],id:f}))},3905:(F,S,c)=>{c.d(S,{z:()=>f});var o=c(6805),b=c(930);function f(m,p){const l="object"==typeof p;return new Promise((x,_)=>{const A=new b.Hp({next:v=>{x(v),A.unsubscribe()},error:_,complete:()=>{l?x(p.defaultValue):_(new o.K)}});m.subscribe(A)})}},1588:(F,S,c)=>{c.d(S,{Z:()=>y});const b={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let f;const m=new Uint8Array(16);function p(){if(!f&&(f=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(m)}const l=[];for(let d=0;d<256;++d)l.push((d+256).toString(16).slice(1));const y=function v(d,h,g){if(b.randomUUID&&!h&&!d)return b.randomUUID();const u=(d=d||{}).random||(d.rng||p)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,h){g=g||0;for(let i=0;i<16;++i)h[g+i]=u[i];return h}return function x(d,h=0){return(l[d[h+0]]+l[d[h+1]]+l[d[h+2]]+l[d[h+3]]+"-"+l[d[h+4]]+l[d[h+5]]+"-"+l[d[h+6]]+l[d[h+7]]+"-"+l[d[h+8]]+l[d[h+9]]+"-"+l[d[h+10]]+l[d[h+11]]+l[d[h+12]]+l[d[h+13]]+l[d[h+14]]+l[d[h+15]]).toLowerCase()}(u)}}}]);